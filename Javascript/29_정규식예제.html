<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>29_정규식예제</title>
</head>
<body>

    <h1>29_정규식예제</h1>
    <hr>

    <fieldset>
        <input type="text" name="t1">
        <span class="m1"></span>
    </fieldset>

    <fieldset>
        <h3>대소문자 및 숫자조합 6 ~ 12자리</h3>
        <input type="text" name="t2">
        <span class="m2"></span>
    </fieldset>

    <fieldset>
        <h3>소문자 및 숫자조합 8자리이상</h3>
        <input type="text" name="t3">
        <span class="m3"></span>
    </fieldset>

    <script>
        const t1 = document.querySelector('input[name="t1"]')
        const m1 = document.querySelector('span.m1')
        t1.onkeyup = function(event) {
            const value = event.target.value    // 문자열
            const exp = /^[0-9]{4,8}$/          // 정규식 조건
            console.log(value.match(exp))       // 문자열이 조건에 부합하는가? (아니면 null)
            if(value.match(exp) == null) {
                m1.innerText = '4~6자리의 정수로 구성되어야 합니다'
                m1.style.color = 'red'
            }
            else {
                m1.innerText = '사용가능합니다'
                m1.style.color = 'blue'
            }
        }
    </script>

    <script>
        const t2 = document.querySelector('input[name="t2"]')
        const m2 = document.querySelector('span.m2')

        function passwordCheck1(event) {
            const exp = /^[A-Za-z0-9]{6,12}$/
            if(event.target.value.match(exp) == null) {
                m2.innerText = '대소문자 및 숫자의 구성이 6 ~ 12자리로 구성되어야 합니다'
                m2.style.color = 'red'
            }
            else {
                m2.innerText = '사용가능합니다'
                m2.style.color = 'blue'
            }            
        }
        t2.onkeyup = passwordCheck1
    </script>

    <script>
        const t3 = document.querySelector('input[name="t3"]')
        const m3 = document.querySelector('span.m3')

        function passwordCheck2(event) {
            const exp = /^(?=.*?[a-z])(?=.*?[0-9])(?=.*?[A-Z])(?=.*?[!@#$%^&*]).{8,}$/
            if(event.target.value.match(exp) == null) {
                m3.innerText = '대문자 및 소문자, 숫자의 구성이 8자리이상으로 구성되어야 합니다'
                m3.style.color = 'red'
            }
            else {
                m3.innerText = '사용가능합니다'
                m3.style.color = 'blue'
            }            
        }
        t3.onkeyup = passwordCheck2
    </script>
    
</body>
</html>